<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>å°ä¸­ç°¡åª½åª½ç‹—åœ’ï½œå·²é ˜é¤Š</title>

  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script src="firebase-config.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#fdf6f7] min-h-screen">
  <header class="p-6 text-center">
    <h1 class="text-3xl font-bold text-rose-600">ä»–å€‘éƒ½æ‰¾åˆ°å¹¸ç¦çš„å®¶ ğŸ¡</h1>
    <p class="text-gray-600 mt-2">æ„Ÿè¬æ¯ä½èªé¤Šäººèˆ‡å¿—å·¥çš„ä»˜å‡º</p>
  </header>

  <main class="p-4 md:p-8">
    <div id="list" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4"></div>
  </main>

  <script>
    const db = firebase.firestore();
    const list = document.getElementById('list');
    db.collection('adopted').orderBy('adoptedAt', 'desc').onSnapshot(snap => {
      list.innerHTML = '';
      snap.forEach(doc => {
        const d = doc.data();
        const card = document.createElement('div');
        card.className = 'rounded-xl border bg-white overflow-hidden shadow-sm hover:shadow-md cursor-pointer';
        const img = d.images?.[0] || '';
        card.innerHTML = `<img src="${img}" class="w-full aspect-square object-cover">
          <div class="p-3"><div class="font-semibold">${d.name}</div>
          <div class="text-sm text-gray-500">${d.type === 'cat' ? 'è²“' : 'ç‹—'}ãƒ»${d.gender || '-'}ãƒ»${d.age || '-'}</div></div>`;
        list.appendChild(card);
      });
    });
  </script>
</body>
</html>
